# BOOST Mouse Wheel Implementation

## Описание реализации

Добавлена поддержка колеса мыши для кнопки BOOST в MainPanel. Теперь пользователи могут точно регулировать уровень усиления в дБ, вращая колесо мыши над кнопкой BOOST.

## Что было изменено:

### 1. Класс FeatureToolButton
Добавлен новый функционал в класс `FeatureToolButton`:
- `std::function<void(const juce::MouseWheelDetails&)> onMouseWheel` - колбэк для обработки колесика мыши
- Переопределен метод `mouseWheelMove` для поддержки пользовательских обработчиков

### 2. Новый метод setBoostLevel() в PluginProcessor
Добавлен метод `setBoostLevel(float boostDb)` для прямой установки значения BOOST:
- Устанавливает точное значение dB без переключения состояния
- Автоматически выключает BOOST при значении 0dB
- Рассчитывает и применяет соответствующий gain

### 3. BOOST Button Handler (ИСПРАВЛЕН)
В конструкторе MainPanel добавлен обработчик `onMouseWheel` для кнопки BOOST (индекс 8):
- Текущее значение dB получается через `processor.getEffectStateManager().getBoostDb()`
- Шаг изменения: 2dB на один щелчок колеса мыши
- Диапазон: от -24dB до +24dB
- **ИСПРАВЛЕНО:** Использует новый метод `processor.setBoostLevel(newBoostDb)` вместо `toggleBoost()`
- Теперь накопительное изменение работает корректно - каждое вращение добавляется к текущему значению

## Как использовать:

### Управление колесиком мыши:
1. **Наведите курсор на кнопку BOOST** в категории GENERAL
2. **Вращайте колесо мыши вверх** - увеличивает усиление (+2dB за шаг)
3. **Вращайте колесо мыши вниз** - уменьшает усиление (-2dB за шаг)
4. **Диапазон**: от -24dB (ослабление) до +24dB (усиление)
5. **Автоотключение**: при достижении 0dB BOOST автоматически выключается

### Визуальная индикация:
- Кнопка BOOST подсвечивается зеленым цветом при активации
- Текст кнопки становится белым при активации
- Обновление происходит в реальном времени

## Существующая функциональность сохранена:
- **Левый клик** - по-прежнему включает/выключает BOOST с дефолтным значением +6dB
- **Правый клик** - пока не реализован (можно добавить для сброса)

## Технические детали:
- Используются новые методы: `processor.setBoostLevel(newBoostDb)` и `processor.getEffectStateManager().getBoostDb()`
- Метод `setBoostLevel()` напрямую устанавливает значение без переключения состояния
- Корректная обработка граничных значений через `juce::jlimit(-24.0f, 24.0f, newBoostDb)`
- Вызов `updateEffectButtonStates()` для немедленного обновления UI

## Исправленная проблема:
Была проблема: при каждом вращении колеса BOOST сбрасывался после одного изменения. 
**Причина:** метод `toggleBoost()` работал как переключатель, а не для установки значения.
**Решение:** создан новый метод `setBoostLevel()` для прямой установки точного значения dB.

## Преимущества реализации:
- **Точное управление**: пользователи могут устанавливать точные значения dB
- **Интуитивный интерфейс**: колесико мыши - стандартный способ регулировки параметров
- **Мгновенная обратная связь**: визуальные изменения и звуковой эффект применяются немедленно
- **Безопасность**: защита от выхода за пределы допустимого диапазона